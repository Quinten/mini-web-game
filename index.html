<!doctype html><html lang="en"><head><meta charset="utf-8"><title>pg</title><meta name="description" content=""><meta name="author" content="Quinten Clause"><meta name="monetization" content="$ilp.uphold.com/N3GyWXpENLq4"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"></head><body style="background:#000;color:#fff;margin:0;"> <canvas id="canvas" style="display:block;touch-action:none;user-select:none;-webkit-tap-highlight-color:transparent;"></canvas> <script type="module">var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},i=e.parcelRequire1533;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in n){var i=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,i.call(a.exports,a,a.exports),a.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},e.parcelRequire1533=i);var a=Object.freeze({addIcons:e=>{let t=document.createElement("canvas");t.width=1024,t.height=1024;let n=t.getContext("2d");n.fillStyle="white",n.fillRect(0,0,1024,1024),n.fillStyle="lightblue",n.fillRect(256,256,512,512);let i=t.toDataURL(),a=document.createElement("link");a.rel="icon",a.type="image/png",a.href=i,document.head.appendChild(a);let r=document.createElement("link");r.rel="apple-touch-icon",r.href=i,document.head.appendChild(r);let o=document.title,c=document.title,l=document.querySelector("[name=description]").getAttribute("content"),s=document.body.style.background,d=document.createElement("meta");d.name="theme-color",d.content=s,document.head.appendChild(d);let u=s,p=window.location.href,m=p.replace(/[^/]+$/,""),h=[{src:i,type:"image/png",sizes:"1024x1024"}],f=document.createElement("link");f.rel="manifest",f.href="data:application/json,"+JSON.stringify({name:o,short_name:c,description:l,background_color:u,theme_color:s,display:"standalone",start_url:p,scope:m,icons:h}),document.head.appendChild(f)}}),r={system:{states:["game","test"]},game:{state:{entities:["viewport","input"]}},viewport:{resize:{width:300,height:150,minWidth:256,minHeight:256}},input:{pointer:{}},player:{fillrect:{fill:"white",x:8,y:8,width:240,height:240,next:["game","testx"]},sound:{melody:["8C3","8D3","8G3+8"]},data:{nClicks:0}},enemy:{fillrect:{fill:"lightblue",x:8,y:8,width:240,height:240,next:["game","test"]},sound:{melody:["8G3","8D3","4C3"]},data:{nClicks:0}},test:{state:{entities:["player"]}},testx:{state:{entities:["enemy"]}}};let o={},c=document.title+" Data ";var l=Object.freeze({preupdate:e=>{let{id:t,entity:n}=e;if(void 0===o[t]){let e=localStorage.getItem(c+t);null!==e&&(o[t]=e,n.data=JSON.parse(e))}},postupdate:e=>{let{id:t,entity:n}=e,i=JSON.stringify(n.data);o[t]!==i&&(o[t]=i,localStorage.setItem(c+t,i))}});let s,d,u,p,m,h,f,g=0,y=(e=138)=>{if(void 0===s||"running"!==s.state){if(s=new AudioContext,/(iPhone|iPad)/i.test(navigator.userAgent)&&48e3!==s.sampleRate){let e=s.createBuffer(1,1,48e3),t=s.createBufferSource();t.buffer=e,t.connect(s.destination),t.start(0),t.disconnect(),s.close(),s=new AudioContext}u=s.createBiquadFilter(),u.connect(s.destination),u.type="lowpass",u.frequency.value=920,p=s.createGain(),p.connect(u),p.gain.value=.8,m=s.createDelay(60/e),m.delayTime.value=60/e,h=s.createGain(),h.gain.value=.25,m.connect(h),h.connect(m),f=s.createGain(),f.gain.value=.5,f.connect(p),m.connect(f),d=[0,1,2,3,4,5,6,7].map((()=>{let e=s.createGain();return e.connect(p),e.connect(m),e}))}},v=(e,t,n,i=120,a="triangle")=>{if("closed"===e.context.state)return;let r=t.split("+"),o=r[0].replace(/\d/g,""),c=r.reduce(((e,t)=>e+1/Number(t.match(/^\d+/g)[0])*240/i),0),l=r[0].match(/\d+$/g);l=l?+l[0]:4;let s="AbBCdDeEFgGa".indexOf(o);if(-1===s)return c;let d=100*s+1200*(l-4),u=e.context.createOscillator();return u.connect(e),u.frequency.value=440,u.detune.value=d,u.type=a,e.gain.setValueAtTime(0,n),e.gain.linearRampToValueAtTime(.6,n+.03*c),e.gain.setValueAtTime(.56,n+.24*c),e.gain.setValueAtTime(.55,n+.3*c),e.gain.linearRampToValueAtTime(0,n+1.5*c),u.start(n),u.stop(n+1.5*c),c};var w=Object.freeze({preupdate:e=>{let{component:t}=e;if(!t.play)return;let{melody:n,bpm:i=120,loop:a=!1,nextNote:r=0,nextNoteTick:o=s.currentTime}=t;y(i);let c=60/i*7;for(s.currentTime>o+.35&&(r=0,o=s.currentTime);o<s.currentTime+c;){let e=v(d[g],n[r],o,i);if(g=(g+1)%d.length,r=(r+1)%n.length,o+=e,0===r&&!a){t.play=!1;break}}t.nextNote=r,t.nextNoteTick=o},initCtx:y});let x=!1,b=!1;var E=Object.freeze({preupdate:e=>{!1===b&&((e=>{let t,n,i,a,r=e.component,o=e.entities.viewport.resize,c=!1,l=0,s=0,d=e=>{t=canvas.getBoundingClientRect(),n=t.left,i=t.top,a=o.zoom/window.devicePixelRatio,l=(e.clientX-n)/a,s=(e.clientY-i)/a,r.x=l,r.y=s};canvas.addEventListener("pointerdown",(e=>{!1!==e.isPrimary&&(d(e),r.downX=l,r.downY=s,r.justDown=!0,r.isDown=!0,c=!1,w.initCtx())})),canvas.addEventListener("pointermove",(e=>{!1!==e.isPrimary&&d(e)})),canvas.addEventListener("pointerup",(e=>{c?c=!1:!1!==e.isPrimary&&(d(e),r.justUp=!0,r.isDown=!1)})),canvas.addEventListener("pointerout",(e=>{r.isDown&&(r.justUp=!0,r.isDown=!1)})),canvas.addEventListener("pointerenter",(e=>{c=!0}))})(e),b=!0);let{component:t}=e;x=t.pointing,t.pointing=!1},postupdate:e=>{let{component:t}=e;t.justDown=!1,t.justUp=!1,x&&!t.pointing?canvas.style.cursor="default":!x&&t.pointing&&(canvas.style.cursor="pointer")}});let j=0,C=0,O=1,T=1,k=1,R=e=>{let{ctx:t}=e;t.restore(),t.save(),t.scale(k,k)};var z=Object.freeze({preupdate:e=>{if(j===window.innerWidth&&C===window.innerHeight)return;j=window.innerWidth,C=window.innerHeight,canvas.style.width=j+"px",canvas.style.height=C+"px",canvas.width=j*window.devicePixelRatio,canvas.height=C*window.devicePixelRatio;let{component:t}=e;t.width=j,t.height=C,O=t.minWidth/t.minHeight,T=j/C,k=O<T?canvas.height/t.minHeight:canvas.width/t.minWidth,t.zoom=k},draw:e=>{let{ctx:t}=e;R(e),t.clearRect(0,0,j,C)},flush:R});var D=Object.freeze({draw:e=>{let{ctx:t}=e,{x:n,y:i,width:a,height:r,fill:o}=e.component;t.fillStyle=o,t.fillRect(n,i,a,r)},update:e=>{let{pointer:t}=e.entities.input,{component:n,entity:i}=e,{x:a,y:r,width:o,height:c}=n;t.x<a||t.x>o+a||t.y<r||t.y>c+r||(t.pointing=!0,t.justUp&&void 0!==i.sound&&(i.sound.play=!0),t.justUp&&(i.data.nClicks=i.data.nClicks+1,e.entities.system.states=n.next))}}),A=Object.freeze({data:l,pointer:E,resize:z,sound:w,fillrect:D});let N={},S=["preupdate","update","postupdate","draw"];S.forEach((e=>{N[e]={}})),Object.keys(A).forEach((e=>{S.forEach((t=>{void 0!==A[e][t]&&(N[t][e]=A[e][t])}))}));var U=Object.freeze({systems:N,systemTypes:S});a.addIcons();var L;i.register("45FFh",(function(e,t){var n,i,a,r,o;n=e.exports,i="getBundleURL",a=()=>o,r=e=>o=e,Object.defineProperty(n,i,{get:a,set:r,enumerable:!0,configurable:!0});var c={};function l(e){return(""+e).replace(/^((?:https?|file|ftp):\/\/.+)\/[^/]+$/,"$1")+"/"}o=function(e){var t=c[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp):\/\/[^)\n]+/g);if(e)return l(e[2])}return"/"}(),c[e]=t),t}})),L=i("45FFh").getBundleURL("cmSNU")+"sw.js";try{"serviceWorker"in navigator&&window.addEventListener("load",(e=>{navigator.serviceWorker.register(L)}))}catch(e){}let{systems:P,systemTypes:F}=U,q={},B=canvas.getContext("2d"),G=0,W=0,_=e=>{W=e-G,G=e,F.forEach((e=>{q[e]=[]})),r.system.states.forEach((t=>{r[t].state.entities.forEach((n=>{let i=r[n];Object.keys(i).forEach((a=>{let o=i[a];F.forEach((c=>{void 0!==P[c][a]&&q[c].push({system:P[c][a],c:{entities:r,id:n,entity:i,comp:a,component:o,stateId:t,delta:W,time:e,ctx:B}})}))}))}))})),F.forEach((e=>{q[e].forEach((e=>{let{system:t,c:n}=e;t(n)}))})),requestAnimationFrame(_)};_(0);</script> </body></html>